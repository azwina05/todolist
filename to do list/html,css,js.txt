<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ToDo App</title>
  <link rel="stylesheet" href="./style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <div class="stats-container">
      <div class="details">
        <h1>Todo App</h1>
        <p>Keep it up!</p>
        <div id="progressBar">
          <div id="progress"></div>
        </div>
      </div>
      <div class="stats-numbers">
        <p id="numbers">0 / 0</p>
      </div>
    </div>

    <form>
      <input type="text" id="taskInput" placeholder="Write your task" />
      <button id="newTask" type="submit">+</button>
    </form>

    <ul id="task-list"></ul>
  </div>

  <script src="./app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
</body>
</html>
---------------------------------------------------------------------------------------
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --background: #000430;
  --secondaryBackground: #171c48;
  --text: #fff;
  --purple: #828dff;
  --teal: #24feee;
}

body {
  background-color: var(--background);
  color: var(--text);
  font-family: 'Poppins', sans-serif;
}

.container {
  max-width: 500px;
  margin: 120px auto 0;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.stats-container {
  width: 100%;
  padding: 30px;
  display: flex;
  justify-content: space-between;
  gap: 20px;
  border: 2px solid var(--purple);
  border-radius: 20px;
  background-color: var(--secondaryBackground);
}

.details {
  flex: 1;
}

#progressBar {
  width: 300px;
  height: 10px;
  background-color: var(--background);
  border-radius: 5px;
  margin-top: 20px;
}

#progress {
  width: 0%;
  height: 100%;
  background-color: var(--teal);
  border-radius: 50px;
  transition: all 0.3s ease;
}

#numbers {
  width: 100px;
  height: 100px;
  background-color: var(--purple);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 30px;
  font-weight: bold;
}

form {
  margin-top: 60px;
  width: 100%;
  display: flex;
  gap: 10px;
}

input {
  flex: 1;
  padding: 16px;
  background: var(--secondaryBackground);
  border: 1px solid var(--purple);
  border-radius: 10px;
  color: var(--text);
  font-size: 16px;
  outline: none;
}

button {
  width: 50px;
  height: 50px;
  background-color: var(--purple);
  color: var(--text);
  font-size: 30px;
  font-weight: bold;
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

#task-list {
  margin-top: 30px;
  width: 100%;
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.taskItem {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: var(--secondaryBackground);
  padding: 10px;
  border-radius: 10px;
}

.task {
  display: flex;
  align-items: center;
  gap: 10px;
}

.task input[type="checkbox"] {
  width: 20px;
  height: 20px;
}

.completed p {
  text-decoration: line-through;
  color: var(--teal);
}

.taskItem img {
  width: 24px;
  height: 24px;
  margin: 0 10px;
  cursor: pointer;
}
----------------------------------------------------------------------------------------------------------------------
let tasks = [];

document.addEventListener("DOMContentLoaded", () => {
  const storedTasks = JSON.parse(localStorage.getItem("tasks"));
  if (storedTasks) {
    tasks = storedTasks;
    updateTasksList();
    updateStats();
  }
});

document.getElementById("newTask").addEventListener("click", function (e) {
  e.preventDefault();
  addTask();
});

const saveTasks = () => {
  localStorage.setItem("tasks", JSON.stringify(tasks));
};

const addTask = () => {
  const taskInput = document.getElementById("taskInput");
  const text = taskInput.value.trim();

  if (text) {
    tasks.push({ text, completed: false });
    taskInput.value = "";
    updateTasksList();
    updateStats();
    saveTasks();
  }
};

const toggleTaskComplete = (index) => {
  tasks[index].completed = !tasks[index].completed;
  updateTasksList();
  updateStats();
  saveTasks();
};

const deleteTask = (index) => {
  tasks.splice(index, 1);
  updateTasksList();
  updateStats();
  saveTasks();
};

const editTask = (index) => {
  const taskInput = document.getElementById("taskInput");
  taskInput.value = tasks[index].text;
  tasks.splice(index, 1);
  updateTasksList();
  updateStats();
  saveTasks();
};

const updateStats = () => {
  const completedTasks = tasks.filter((task) => task.completed).length;
  const totalTasks = tasks.length;
  const progress = totalTasks ? (completedTasks / totalTasks) * 100 : 0;

  document.getElementById("progress").style.width = `${progress}%`;
  document.getElementById("numbers").innerText = `${completedTasks} / ${totalTasks}`;

  if (totalTasks && completedTasks === totalTasks) {
    blastConfetti();
  }
};

const updateTasksList = () => {
  const taskList = document.getElementById("task-list");
  taskList.innerHTML = "";

  tasks.forEach((task, index) => {
    const listItem = document.createElement("li");
    listItem.innerHTML = `
      <div class="taskItem">
        <div class="task ${task.completed ? "completed" : ""}">
          <input type="checkbox" ${task.completed ? "checked" : ""} onchange="toggleTaskComplete(${index})" />
          <p>${task.text}</p>
        </div>
        <div class="icons">
          <img src="https://img.icons8.com/ios-filled/24/edit.png" alt="Edit" onclick="editTask(${index})" />
          <img src="https://img.icons8.com/ios-filled/24/delete-sign.png" alt="Delete" onclick="deleteTask(${index})" />
        </div>
      </div>
    `;
    taskList.appendChild(listItem);
  });
};

const blastConfetti = () => {
  const count = 200;
  const defaults = { origin: { y: 0.7 } };

  function fire(particleRatio, opts) {
    confetti(
      Object.assign({}, defaults, opts, {
        particleCount: Math.floor(count * particleRatio),
      })
    );
  }

  fire(0.25, { spread: 26, startVelocity: 55 });
  fire(0.2, { spread: 60 });
  fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
  fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
  fire(0.1, { spread: 120, startVelocity: 45 });
};

